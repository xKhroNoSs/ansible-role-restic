# Restic user creation

restic_user_create: yes
restic_user: restic
restic_user_shell: /usr/sbin/nologin
restic_user_home: /nonexistent
restic_user_create_home: no
restic_user_system: yes
restic_user_group: restic

# Restic install

restic_install_repo: true
restic_install_binary: false
restic_install_binary_location: /usr/local/bin
restic_install_binary_perms: 0700
restic_install_version: '0.14.0'
restic_install_architecture: 'amd64'

# Restic backup configuration

restic_backup_default:
  restic_backup_systemd: true
  restic_backup_systemd_service_location: /etc/systemd/user
  restic_backup_systemd_timer_location: /etc/systemd/user
  restic_backup_systemd_timer_plan: daily
  restic_backup_cron: false
  restic_backup_cron_plan: 0 0 * * *
#  restic_backup_repo:
#  restic_backup_repo_type:
#  restic_backup_s3_access_key_id:
#  restic_backup_s3_secret_access_key:
  restic_backup_repo_init: false
#  restic_backup_password:
  restic_backup_:
  restic_backup_:
  restic_backup_:
   

# Merge configs
# Merger DANS une liste (pour avoir plusieurs configurations possibles)

restic_backup_parameters: {}
restic_backup_combined: "{{ restic_backup_parameters_default | combine(restic_env_parameters) }}"
